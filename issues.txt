âœ” Generated Prisma Client (v6.7.0) to ./node_modules/@prisma/client in 2.90s
Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
Tip: Want to react to database changes in your app as they happen? Discover how with Pulse: https://pris.ly/tip-1-pulse
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update available 6.7.0 -> 6.12.0                       â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
==> No open ports detected, continuing to scan...
==> Docs on specifying a port: https://render.com/docs/web-services#port-binding
Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "workbeat_db", schema "public" at "dpg-d1oheobuibrs73cpppi0-a.oregon-postgres.render.com"
1 migration found in prisma/migrations
No pending migrations to apply.
ğŸŒ Loading environment: production
ğŸ“„ Environment file: .env.production
âœ… Configuration validation passed
âœ… Database connection initiated.
ğŸ”Œ Initializing WebSocket service...
ğŸ“Š Environment check: {
  JWT_SECRET: 'Set',
  FRONTEND_URL: 'https://workbeat.vercel.app',
  DATABASE_URL: 'Set'
}
ğŸ” Testing database connection...
âŒ WebSocket initialization failed: ReferenceError: prisma is not defined
    at /opt/render/project/src/server/server.js:332:5
    at Object.<anonymous> (/opt/render/project/src/server/server.js:354:3)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:171:5)
    at node:internal/main/run_main_module:36:49
Stack trace: ReferenceError: prisma is not defined
    at /opt/render/project/src/server/server.js:332:5
    at Object.<anonymous> (/opt/render/project/src/server/server.js:354:3)
    at Module._compile (node:internal/modules/cjs/loader:1730:14)
    at Object..js (node:internal/modules/cjs/loader:1895:10)
    at Module.load (node:internal/modules/cjs/loader:1465:32)
    at Function._load (node:internal/modules/cjs/loader:1282:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:171:5)
    at node:internal/main/run_main_module:36:49
==> Exited with status 1
==> Common ways to troubleshoot your deploy: https://render.com/docs/troubleshooting-deploys
==> Running 'npm start'
> workbeat-api@1.0.0 start
> npm install && npx prisma generate && npx prisma migrate deploy && node server.js